{"ast":null,"code":"var _jsxFileName = \"/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js\";\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { likeBlog, deleteBlog, addComment } from '../reducers/blogReducer';\nimport { setNotification } from '../reducers/notificationReducer';\nimport { useHistory } from 'react-router-dom';\n\nconst Blog = ({\n  blog,\n  loggedUser\n}) => {\n  console.log('blog in Blog: ', blog);\n  const dispatch = useDispatch();\n  const history = useHistory(); // Allow blogs to be deleted only if blog post created by user\n\n  const showDeleteButton = () => {\n    if (loggedUser.username === blog.user['username']) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => handleDeleteBlog(blog.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 9\n        }\n      }, \"Remove Blog\");\n    }\n  };\n\n  const handleDeleteBlog = id => {\n    //const toDelete = blogs.find(blog => blog.id === id)\n    const toDelete = blog;\n\n    if (window.confirm(`Remove: ${toDelete.title} By: ${toDelete.author}?`)) {\n      dispatch(deleteBlog(id));\n      history.push('/');\n      dispatch(setNotification(`${toDelete.title} by ${toDelete.author} was successfully deleted!`, 5)); //notify(`${toDelete.title} by ${toDelete.author} was successfully deleted!`, 'ok')\n    }\n  };\n\n  const handleLike = async () => {\n    console.log('blog in handleLike: ', blog);\n\n    try {\n      dispatch(likeBlog(blog));\n      dispatch(setNotification(`Like added to: ${blog.title}`, 5)); //notify(`Like added to: ${blog.title}`, 'ok')\n    } catch (exception) {\n      dispatch(setNotification('Error!', 5)); //notify('Error!')\n    }\n  };\n\n  const handleComment = async event => {\n    event.preventDefault();\n    const comment = event.target.comment.value;\n    event.target.comment.value = '';\n    console.log('comment in handleComment: ', comment);\n    dispatch(addComment(blog.id, comment));\n  };\n\n  if (!blog) {\n    return null;\n  }\n\n  const buttonStyle = {\n    marginLeft: 3,\n    padding: (0, 2, 0, 2),\n    borderRadius: 6\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, blog.title, \" \", blog.author)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, blog.url, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), blog.likes, \" Likes\", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLike,\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"like\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), \"added by: \", blog.user.name, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"comments\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"add comment\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, blog.comments.map(comment => /*#__PURE__*/React.createElement(\"li\", {\n    key: comment.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, comment.comment))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }), showDeleteButton()));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js"],"names":["React","useDispatch","likeBlog","deleteBlog","addComment","setNotification","useHistory","Blog","blog","loggedUser","console","log","dispatch","history","showDeleteButton","username","user","handleDeleteBlog","id","toDelete","window","confirm","title","author","push","handleLike","exception","handleComment","event","preventDefault","comment","target","value","buttonStyle","marginLeft","padding","borderRadius","url","likes","name","comments","map"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { likeBlog, deleteBlog, addComment } from '../reducers/blogReducer'\nimport { setNotification } from '../reducers/notificationReducer'\n\nimport { useHistory } from 'react-router-dom'\n\nconst Blog = ({ blog, loggedUser }) => {\n  console.log('blog in Blog: ', blog)\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  // Allow blogs to be deleted only if blog post created by user\n  const showDeleteButton = () => {\n\n    if (loggedUser.username === blog.user['username']) {\n      return (\n        <button onClick={() => handleDeleteBlog(blog.id)}>Remove Blog</button>\n      )\n    }\n  }\n\n  const handleDeleteBlog = (id) => {\n    //const toDelete = blogs.find(blog => blog.id === id)\n    const toDelete = blog\n\n    if (window.confirm(`Remove: ${toDelete.title} By: ${toDelete.author}?`)) {\n\n      dispatch(deleteBlog(id))\n      history.push('/')\n      dispatch(setNotification(`${toDelete.title} by ${toDelete.author} was successfully deleted!`, 5))\n      //notify(`${toDelete.title} by ${toDelete.author} was successfully deleted!`, 'ok')\n    }\n  }\n\n  const handleLike = async () => {\n    console.log('blog in handleLike: ', blog)\n\n    try {\n      dispatch(likeBlog(blog))\n      dispatch(setNotification(`Like added to: ${blog.title}`, 5))\n      //notify(`Like added to: ${blog.title}`, 'ok')\n    } catch (exception){\n      dispatch(setNotification('Error!', 5))\n      //notify('Error!')\n    }\n  }\n\n  const handleComment = async (event) => {\n    event.preventDefault()\n\n    const comment = event.target.comment.value\n    event.target.comment.value = ''\n    console.log('comment in handleComment: ', comment)\n\n    dispatch(addComment(blog.id, comment))\n  }\n\n  if (!blog) {\n    return null\n  }\n\n  const buttonStyle = {\n    marginLeft: 3,\n    padding: (0, 2, 0, 2),\n    borderRadius: 6,\n  }\n\n  return(\n    <div>\n      <div>\n        <h2>{blog.title} {blog.author}</h2>\n      </div>\n      <div>\n        {blog.url}\n        <br />\n        {blog.likes} Likes\n        <button onClick={handleLike} style={buttonStyle}>like</button>\n        <br />\n        added by: {blog.user.name}\n        <br />\n        <br />\n        <h5>comments</h5>\n        <br />\n        <div>\n          <form onSubmit={handleComment}>\n            <input\n              name=\"comment\"\n            />\n            <button type=\"submit\">add comment</button>\n          </form>\n        </div>\n        <br />\n        <ul>\n          {blog.comments.map(comment =>\n            <li key={comment.id}>{comment.comment}</li>)}\n        </ul>\n        <br />\n        {showDeleteButton()}\n      </div>\n    </div>\n  )\n}\n\nexport default Blog\n"]},"metadata":{},"sourceType":"module"}