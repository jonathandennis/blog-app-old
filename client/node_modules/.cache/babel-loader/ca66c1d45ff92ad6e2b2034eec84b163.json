{"ast":null,"code":"var _jsxFileName = \"/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js\";\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { likeBlog, deleteBlog, addComment } from '../reducers/blogReducer';\nimport { setNotification } from '../reducers/notificationReducer';\nimport { useHistory } from 'react-router-dom';\n\nconst Blog = ({\n  blog,\n  loggedUser\n}) => {\n  const dispatch = useDispatch();\n  const history = useHistory(); // Allow blogs to be deleted only if blog post created by user\n\n  const showDeleteButton = () => {\n    if (loggedUser.username === blog.user['username']) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => handleDeleteBlog(blog.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }\n      }, \"Remove Blog\");\n    }\n  };\n\n  const handleDeleteBlog = id => {\n    if (window.confirm(`Remove: ${blog.title} By: ${blog.author}?`)) try {\n      dispatch(deleteBlog(id));\n      history.push('/');\n      dispatch(setNotification(`${blog.title} by ${blog.author} was successfully deleted!`, 'ok'));\n    } catch (exception) {\n      dispatch(setNotification('Error!'));\n    }\n  };\n\n  const handleLike = async () => {\n    try {\n      dispatch(likeBlog(blog));\n      dispatch(setNotification(`Like added to: ${blog.title}`, 'ok'));\n    } catch (exception) {\n      dispatch(setNotification('Error!', 5));\n    }\n  };\n\n  const handleComment = async event => {\n    event.preventDefault();\n\n    try {\n      const comment = event.target.comment.value;\n      event.target.comment.value = '';\n      dispatch(addComment(blog.id, comment));\n      dispatch(setNotification('Your comment was added successfully!', 'ok'));\n    } catch (exception) {\n      dispatch(setNotification('Error adding Comment', 5));\n    }\n  };\n\n  if (!blog) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blogview-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blog-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, blog.title, \", \", blog.author)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blog-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, blog.url), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, blog.likes, \" Likes\", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLike,\n    id: \"like-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"like\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"added by: \", blog.user.name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"comment\",\n    id: \"comment-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    id: \"comment-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"add comment\"))), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"comments-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"comments:\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, blog.comments.map(comment => /*#__PURE__*/React.createElement(\"li\", {\n    key: comment.id,\n    className: \"stripe-li comment-li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, comment.comment)))), showDeleteButton());\n};\n\nexport default Blog;","map":{"version":3,"sources":["/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js"],"names":["React","useDispatch","likeBlog","deleteBlog","addComment","setNotification","useHistory","Blog","blog","loggedUser","dispatch","history","showDeleteButton","username","user","handleDeleteBlog","id","window","confirm","title","author","push","exception","handleLike","handleComment","event","preventDefault","comment","target","value","url","likes","name","comments","map"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { likeBlog, deleteBlog, addComment } from '../reducers/blogReducer'\nimport { setNotification } from '../reducers/notificationReducer'\n\nimport { useHistory } from 'react-router-dom'\n\nconst Blog = ({ blog, loggedUser }) => {\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  // Allow blogs to be deleted only if blog post created by user\n  const showDeleteButton = () => {\n\n    if (loggedUser.username === blog.user['username']) {\n      return (\n        <button onClick={() => handleDeleteBlog(blog.id)}>Remove Blog</button>\n      )\n    }\n  }\n\n  const handleDeleteBlog = (id) => {\n    if (window.confirm(`Remove: ${blog.title} By: ${blog.author}?`))\n      try {\n        dispatch(deleteBlog(id))\n        history.push('/')\n        dispatch(setNotification(`${blog.title} by ${blog.author} was successfully deleted!`, 'ok'))\n      } catch(exception){\n        dispatch(setNotification('Error!'))\n      }\n  }\n\n  const handleLike = async () => {\n    try {\n      dispatch(likeBlog(blog))\n      dispatch(setNotification(`Like added to: ${blog.title}`, 'ok'))\n    } catch (exception){\n      dispatch(setNotification('Error!', 5))\n    }\n  }\n\n  const handleComment = async (event) => {\n    event.preventDefault()\n    try {\n      const comment = event.target.comment.value\n      event.target.comment.value = ''\n      dispatch(addComment(blog.id, comment))\n      dispatch(setNotification('Your comment was added successfully!', 'ok'))\n    } catch (exception){\n      dispatch(setNotification('Error adding Comment', 5))\n    }\n  }\n\n  if (!blog) {\n    return null\n  }\n\n  return(\n    <div className=\"blogview-container\">\n      <div className=\"blog-container\">\n        <div className=\"blog-title\">\n          <h2>{blog.title}, {blog.author}</h2>\n        </div>\n        <div className=\"blog-body\">\n          <div className=\"body-1\">\n            {blog.url}\n          </div>\n          <div className=\"body-1\">\n            {blog.likes} Likes\n            <button onClick={handleLike} id=\"like-button\">like</button>\n          </div>\n          <div className=\"body-1\">\n          added by: {blog.user.name}\n          </div>\n        </div>\n      </div>\n      <div className=\"comments-container\">\n        <div className=\"comments-form\">\n          <form onSubmit={handleComment}>\n            <input\n              name=\"comment\"\n              id=\"comment-input\"\n            />\n            <button type=\"submit\" id=\"comment-button\">add comment</button>\n          </form>\n        </div>\n        <h5 className=\"comments-header\">comments:</h5>\n        <ul>\n          {blog.comments.map(comment =>\n            <li key={comment.id} className=\"stripe-li comment-li\">{comment.comment}</li>)}\n        </ul>\n      </div>\n      {showDeleteButton()}\n    </div>\n  )\n}\n\nexport default Blog"]},"metadata":{},"sourceType":"module"}