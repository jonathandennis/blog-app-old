{"ast":null,"code":"var _jsxFileName = \"/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js\";\nimport React, { useState } from 'react';\nimport blogService from '../services/blogs';\n\nconst Blog = ({\n  user,\n  blogs,\n  setBlogs,\n  notify,\n  deleteBlog\n}) => {\n  const [visibility, setVisibility] = useState(false);\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  };\n  const hideWhenVisible = {\n    display: visibility ? 'none' : ''\n  };\n  const showWhenVisibile = {\n    display: visibility ? '' : 'none'\n  }; // Allow blogs to be deleted only if blog post created by user\n\n  const showDeleteButton = id => {\n    const blog = blogs.find(blog => blog.id === id);\n\n    if (user.username === blog.user['username']) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => deleteBlog(blog.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 9\n        }\n      }, \"Remove\");\n    }\n  }; // const handleLikes = (id) => {\n  //   const likeBlog = blogs.find(blog => blog.id === id)\n  //   console.log('blog: ', likeBlog)\n  //   const updateLike = { ...likeBlog, likes: likeBlog.likes + 1 }\n  //   blogService\n  //     .update(id, updateLike)\n  //     .then(response =>\n  //       setBlogs(blogs.map(blog => blog.id !== id ? blog : response))\n  //     )\n  // }\n\n\n  const likeBlog = async id => {\n    const blog = blogs.find(blog => blog.id === id);\n    const likedBlog = {\n      title: blog.title,\n      likes: blog.likes + 1,\n      author: blog.author,\n      url: blog.url,\n      id: blog.id,\n      user: blog.user.id\n    };\n    console.log('liked blog: ', likedBlog);\n\n    try {\n      await blogService.update(blog.id, likedBlog);\n      console.log('blog.id: ', blog.id);\n      setBlogs(blogs.map(blog => blog.id !== likedBlog.id ? blog : likedBlog));\n      console.log('likedBlog in try: ', likedBlog);\n      notify(`Like added to: ${blog.title}`, 'ok');\n    } catch (exception) {\n      notify('Error!');\n    }\n  };\n\n  const toggle = () => {\n    setVisibility(!visibility);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: blogStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: hideWhenVisible,\n    className: \"blog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, blog.title, blog.author, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"view\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: showWhenVisibile,\n    className: \"blogView\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, blog.title, blog.author, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"hide\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), blog.url, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), blog.likes, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: likeBlog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"like\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), blog.user.name, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), showDeleteButton()));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js"],"names":["React","useState","blogService","Blog","user","blogs","setBlogs","notify","deleteBlog","visibility","setVisibility","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","hideWhenVisible","display","showWhenVisibile","showDeleteButton","id","blog","find","username","likeBlog","likedBlog","title","likes","author","url","console","log","update","map","exception","toggle","name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport blogService from '../services/blogs'\n\nconst Blog = ({ user, blogs, setBlogs, notify, deleteBlog }) => {\n\n  const [ visibility, setVisibility ] = useState(false)\n\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  }\n\n  const hideWhenVisible = { display: visibility ? 'none': '' }\n  const showWhenVisibile = { display: visibility ? '' : 'none' }\n\n  // Allow blogs to be deleted only if blog post created by user\n  const showDeleteButton = (id) => {\n    const blog = blogs.find(blog => blog.id === id)\n\n    if (user.username === blog.user['username']) {\n      return (\n        <button onClick={() => deleteBlog(blog.id)}>Remove</button>\n      )\n    }\n  }\n\n  // const handleLikes = (id) => {\n  //   const likeBlog = blogs.find(blog => blog.id === id)\n  //   console.log('blog: ', likeBlog)\n  //   const updateLike = { ...likeBlog, likes: likeBlog.likes + 1 }\n  //   blogService\n  //     .update(id, updateLike)\n  //     .then(response =>\n  //       setBlogs(blogs.map(blog => blog.id !== id ? blog : response))\n  //     )\n  // }\n  const likeBlog = async (id) => {\n    const blog = blogs.find(blog => blog.id === id)\n\n    const likedBlog = {\n      title: blog.title,\n      likes: blog.likes + 1,\n      author: blog.author,\n      url: blog.url,\n      id: blog.id,\n      user: blog.user.id\n    }\n    console.log('liked blog: ', likedBlog)\n\n    try {\n      await blogService\n        .update(blog.id, likedBlog)\n      console.log('blog.id: ', blog.id)\n      setBlogs(blogs.map(blog => blog.id !== likedBlog.id ? blog : likedBlog))\n      console.log('likedBlog in try: ', likedBlog)\n      notify(`Like added to: ${blog.title}`, 'ok')\n    } catch (exception){\n      notify('Error!')\n    }\n  }\n\n  const toggle = () => {\n    setVisibility(!visibility)\n  }\n\n  return (\n    <div style={blogStyle}>\n      <div style={hideWhenVisible} className='blog'>\n        {blog.title}\n        {blog.author}\n        <button onClick={toggle}>view</button>\n      </div>\n      <div style={showWhenVisibile} className='blogView'>\n        {blog.title}\n        {blog.author}\n        <button onClick={toggle}>hide</button>\n        <br/>\n        {blog.url}\n        <br/>\n        {blog.likes}\n        <button onClick={likeBlog}>like</button>\n        <br/>\n        {blog.user.name}\n        <br/>\n        {showDeleteButton()}\n      </div>\n    </div>\n  )\n}\n\nexport default Blog\n"]},"metadata":{},"sourceType":"module"}