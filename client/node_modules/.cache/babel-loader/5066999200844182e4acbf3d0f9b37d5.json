{"ast":null,"code":"var _jsxFileName = \"/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js\";\nimport React, { useState } from 'react';\nimport blogService from '../services/blogs';\n\nconst Blog = ({\n  user,\n  blogs,\n  setBlogs,\n  blog,\n  notify,\n  deleteBlog\n}) => {\n  const [visibility, setVisibility] = useState(false);\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  };\n  const hideWhenVisible = {\n    display: visibility ? 'none' : ''\n  };\n  const showWhenVisibile = {\n    display: visibility ? '' : 'none'\n  }; // Allow blogs to be deleted only if blog post created by user\n\n  const showDeleteButton = () => {\n    if (user.username === blog.user['username']) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => deleteBlog(blog.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 9\n        }\n      }, \"Remove\");\n    }\n  };\n\n  const likeBlog = async () => {\n    const blogToLike = blogs.find(blog => blog.id === id); // const likedBlog = {\n    //    title: blog.title,\n    //    likes: blog.likes + 1,\n    //    author: blog.author,\n    //    url: blog.url,\n    //    id: blog.id,\n    //    user: blog.user.id\n    //  }\n    //  console.log('liked blog: ', likedBlog)\n\n    try {\n      await blogService.update(blog.id, blogToLike);\n      setBlogs(blogs.map(blog => blog.id !== id ? blog : blogToLike));\n      notify(`Like added to: ${blog.title}`, 'ok');\n    } catch (exception) {\n      notify('Error! No like added');\n    }\n  };\n\n  const toggle = () => {\n    setVisibility(!visibility);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: blogStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: hideWhenVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, blog.title, blog.author, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"view\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: showWhenVisibile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, blog.title, blog.author, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"hide\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), blog.url, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), blog.likes, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: likeBlog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"like\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), blog.user.name, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), showDeleteButton()));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/components/Blog.js"],"names":["React","useState","blogService","Blog","user","blogs","setBlogs","blog","notify","deleteBlog","visibility","setVisibility","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","hideWhenVisible","display","showWhenVisibile","showDeleteButton","username","id","likeBlog","blogToLike","find","update","map","title","exception","toggle","author","url","likes","name"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport blogService from '../services/blogs'\r\n\r\n\r\nconst Blog = ({ user, blogs, setBlogs, blog, notify, deleteBlog }) => {\r\n\r\n  const [visibility, setVisibility] = useState(false)\r\n  \r\n  const blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5\r\n  }\r\n\r\n  const hideWhenVisible = { display: visibility ? 'none': ''}\r\n  const showWhenVisibile = { display: visibility ? '' : 'none'}\r\n\r\n  // Allow blogs to be deleted only if blog post created by user\r\n  const showDeleteButton = () => {\r\n\r\n    if (user.username === blog.user['username']) {\r\n      return (\r\n        <button onClick={() => deleteBlog(blog.id)}>Remove</button>\r\n      )\r\n    }\r\n  }\r\n\r\n  const likeBlog = async () => {\r\n    \r\n    const blogToLike = blogs.find(blog => blog.id === id)\r\n    // const likedBlog = {\r\n    //    title: blog.title,\r\n    //    likes: blog.likes + 1,\r\n    //    author: blog.author,\r\n    //    url: blog.url,\r\n    //    id: blog.id,\r\n    //    user: blog.user.id\r\n    //  }\r\n    //  console.log('liked blog: ', likedBlog)\r\n     \r\n     try {\r\n       await blogService\r\n        .update(blog.id, blogToLike)\r\n        setBlogs(blogs.map(blog => blog.id !== id ? blog : blogToLike))\r\n        notify(`Like added to: ${blog.title}`, 'ok')\r\n        } catch (exception){\r\n        notify('Error! No like added')\r\n     }   \r\n  }\r\n\r\n  const toggle = () => {\r\n    setVisibility(!visibility)\r\n  }\r\n\r\n  return (\r\n    <div style={blogStyle}>\r\n      <div style={hideWhenVisible}>\r\n        {blog.title}\r\n        {blog.author}\r\n        <button onClick={toggle}>view</button>\r\n      </div>\r\n      <div style={showWhenVisibile}>\r\n        {blog.title}\r\n        {blog.author}\r\n        <button onClick={toggle}>hide</button>\r\n        <br/>\r\n        {blog.url}\r\n        <br/>\r\n        {blog.likes}\r\n        <button onClick={likeBlog}>like</button>\r\n        <br/>\r\n        {blog.user.name}\r\n        <br/>\r\n        {showDeleteButton()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n"]},"metadata":{},"sourceType":"module"}