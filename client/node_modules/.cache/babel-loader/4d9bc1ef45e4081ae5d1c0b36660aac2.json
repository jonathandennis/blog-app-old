{"ast":null,"code":"import blogService from '../services/blogs';\n\nconst loginReducer = (state = null, action) => {\n  switch (action.type) {\n    case 'INIT_USER':\n      return action.data;\n\n    case 'SET_USER':\n      return action.data;\n\n    default:\n      return state;\n  }\n};\n\nexport const initializeUser = () => {\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser');\n  return async dispatch => {\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      blogService.setToken(user.token);\n      dispatch({\n        type: 'INIT_USER',\n        data: user\n      });\n    }\n  };\n};\nexport const setUser = () => {\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser');\n  return async dispatch => {\n    const user = JSON.parse(loggedUserJSON);\n    blogService.setToken(user.token);\n    dispatch({\n      type: 'SET_USER',\n      data: user\n    });\n  };\n};\nexport const setUserNull = () => {\n  //const user = (null)\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NULL',\n      data: null\n    });\n  };\n};\nexport default loginReducer;","map":{"version":3,"sources":["/Users/jonathandennis/MOOC_fullStack/part5/bloglist-frontend/src/reducers/userReducer.js"],"names":["blogService","loginReducer","state","action","type","data","initializeUser","loggedUserJSON","window","localStorage","getItem","dispatch","user","JSON","parse","setToken","token","setUser","setUserNull"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,YAAY,GAAG,CAACC,KAAK,GAAG,IAAT,EAAeC,MAAf,KAA0B;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACA,SAAK,WAAL;AACE,aAAOD,MAAM,CAACE,IAAd;;AACF,SAAK,UAAL;AACE,aAAOF,MAAM,CAACE,IAAd;;AAEF;AACE,aAAOH,KAAP;AAPF;AASD,CAVD;;AAYA,OAAO,MAAMI,cAAc,GAAG,MAAM;AAClC,QAAMC,cAAc,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,CAAvB;AACA,SAAO,MAAMC,QAAN,IAAkB;AACvB,QAAIJ,cAAJ,EAAoB;AAClB,YAAMK,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWP,cAAX,CAAb;AACAP,MAAAA,WAAW,CAACe,QAAZ,CAAqBH,IAAI,CAACI,KAA1B;AACAL,MAAAA,QAAQ,CAAC;AACPP,QAAAA,IAAI,EAAE,WADC;AAEPC,QAAAA,IAAI,EAAEO;AAFC,OAAD,CAAR;AAID;AACF,GATD;AAUD,CAZM;AAcP,OAAO,MAAMK,OAAO,GAAG,MAAM;AAC3B,QAAMV,cAAc,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,CAAvB;AACA,SAAO,MAAMC,QAAN,IAAkB;AACvB,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWP,cAAX,CAAb;AACAP,IAAAA,WAAW,CAACe,QAAZ,CAAqBH,IAAI,CAACI,KAA1B;AACAL,IAAAA,QAAQ,CAAC;AACPP,MAAAA,IAAI,EAAE,UADC;AAEPC,MAAAA,IAAI,EAAEO;AAFC,KAAD,CAAR;AAID,GAPD;AAQD,CAVM;AAYP,OAAO,MAAMM,WAAW,GAAG,MAAM;AAC/B;AACA,SAAO,MAAMP,QAAN,IAAkB;AACvBA,IAAAA,QAAQ,CAAC;AACPP,MAAAA,IAAI,EAAE,UADC;AAEPC,MAAAA,IAAI,EAAE;AAFC,KAAD,CAAR;AAID,GALD;AAMD,CARM;AAUP,eAAeJ,YAAf","sourcesContent":["import blogService from '../services/blogs'\n\nconst loginReducer = (state = null, action) => {\n  switch (action.type) {\n  case 'INIT_USER':\n    return action.data\n  case 'SET_USER':\n    return action.data\n\n  default:\n    return state\n  }\n}\n\nexport const initializeUser = () => {\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n  return async dispatch => {\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      blogService.setToken(user.token)\n      dispatch({\n        type: 'INIT_USER',\n        data: user,\n      })\n    }\n  }\n}\n\nexport const setUser = () => {\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n  return async dispatch => {\n    const user = JSON.parse(loggedUserJSON)\n    blogService.setToken(user.token)\n    dispatch({\n      type: 'SET_USER',\n      data: user,\n    })\n  }\n}\n\nexport const setUserNull = () => {\n  //const user = (null)\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NULL',\n      data: null\n    })\n  }\n}\n\nexport default loginReducer"]},"metadata":{},"sourceType":"module"}